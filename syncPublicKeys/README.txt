########################     
## Purpose            ##
########################     

This is a series of utilities (scripts) to aggregate the RSA public
keys of a specified list of users and deploy them to a shared user
CLI user account on a specified list of servers.

Author:     Mike McMurray
Date:       06/27/2012
Version:    1.0

########################     
## Requirements       ##
########################     

1) The scripts must run as the root user.

2) If the scripts are to be automated, it is required that the root
   user's RSA public key be added to the ~smdev/.ssh/authorized_keys
   file on each host specified in the master server list.

########################     
## Installation       ##
########################     

1) Download this tarball (syncPublicKeys.tar.gz)

2) Untar into /tmp/directory

]# cd /tmp
]# tar -xvzf /path/to/syncPublicKeys.tar.gz

3) Execute Setup script.

]# cd /tmp/syncPublicKeys
]# ./setup.sh

########################     
## Files              ##
########################     

- /data1/bin/genServerList.sh

    This script reads through a list of files (currently hardcoded)
    and generates a list of OD servers for the syncPublicKeys script
    to deploy the aggregated public "keys" file to.

    **Note: The path to the hardcode list of server files parsed is:

    /home/CORP/mmcmurray/servers/od.*.all

- /data1/bin/syncPublicKeys.sh

    This script reads through the "authorized_users" file and looks
    for a .ssh/id_rsa.pub file in that user's home directory.  If it
    exists, it is read and output to the aggregate key file in
    /data1/keyfiles/keys.<timestamp>

    Once the key file aggregation is complete, the script then loops
    through the server list (as defined in etc/servers.txt) and 
    uploads the key file to the ~smdev/.ssh/authorized_keys to allow
    for RSA Key based authentication on OD servers.

- /data1/etc/authorized_users

    This is the authoritative (i.e. master) list of users that will
    have their RSA public keys copied into the aggregate keys file
    for deployment.

- /data1/etc/servers.txt

    This is the master list of servers generated by genServer:ist.sh
    and used by syncPublicKeys.sh to deploy master keyfiles to.

- /data1/keyfiles/keys.<timestamp>

    This is the aggregate keys file that is copied to the list of
    servers defined in the etc/servers.txt file.
